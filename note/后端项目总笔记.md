## 环境区分

## 基本架构 mvc等等

## 库的选择

### express

看文档

### compression

提供gzip压缩效果,默认都会用

### [express-session](https://www.npmjs.com/package/express-session#cookiedomain)

session是一个会话状态,服务器维护cookie而服务器端维护对应的状态

这个库是一个express中间件,引入之后可以和对应的数据库搭配,然后自动处理数据的储存

这个库的使用似乎很简单,连接数据库,然后配置中间件.

- 连接数据库,如果是MongoDB要用connect-mongo。

- 中间件的配置必须放在比较早的位置

#### 原理

在中间件进来时根据提供的密钥和默认算法，会给res添加上一个set-cookie的响应头。这样在请求返回的时候就可以给页面添加上cookie。

另外请求过来时会判断根据带过来的id去对应的数据库查询用户信息，然后会把用户信息返回到res的session里面来的。

#### 参数

##### cookie

默认有参数,同时对cookie的一些属性进行设置;包括dom,expires,等等

- httponly 是默认会有的

- secure则默认是没有的,因为要求https才行,很多浏览器不一定支持

- 可以改cookie的key
- 可以配合



### body-parser





## 数据库操作层

## 数据库选型 关系数据库和非关系树数据库

## 构建和自动化继承

## api选型

## 缓存 - cdn 服务器端缓存

## 安全处理

## 调试

## 测试

## 消息推送

## 邮箱

## 用户系统,登录验证系统

## 错误处理

## 日志处理

## 参数验证

## 持续监听

## 优化策略

## 